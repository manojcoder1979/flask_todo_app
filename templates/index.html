{% extends "base.html" %}

{% block title %}Item List{% endblock %}

{% block content %}
<div class="mobile-container">
    <h1>Add Stock Manually</h1>
    
    <form method="POST" action="/add_item" class="stock-form">
        <div class="form-group">
            <label for="denier">Denier:</label>
            <input type="text" id="denier" list="Denier" name="denier" placeholder="Select Denier" required autocomplete="off">
            <datalist id="Denier">
                <option value="400 Denier">
                <option value="600 Denier">
                <option value="800 Denier">
                <option value="1000 Denier">
                <option value="1200 Denier">
            </datalist>
        </div>

        <div class="form-group">
            <label for="item">Item Name:</label>
            <input type="text" id="item" list="items" name="item" placeholder="Select Item" required autocomplete="off">
            <datalist id="items">
                <option value="Basket">
                <option value="Tape">
                <option value="Minicode">
                <option value="Jallander">
                <option value="Micro">
                <option value="Matty">
                <option value="Dori">
                <option value="W">
                <option value="Yarn">
            </datalist>
        </div>

        <div class="form-group">
            <label for="size">Size:</label>
            <input type="text" id="size" list="sizes" name="size" placeholder="Select Size" required autocomplete="off">
            <datalist id="sizes">
                <option value="1">
                <option value="1.25">
                <option value="1.50">
                <option value="1.75">
                <option value="2">
            </datalist>
        </div>

        <div class="form-group">
            <label for="colour">Color:</label>
            <input type="text" list="colours" id="colour" name="colour" placeholder="Select Color" required autocomplete="off">
            <datalist id="colours">
                <option value="Black">
                <option value="White">
                <option value="Blue">
                <option value="Red">
                <option value="Green">
                <option value="Yellow">
                <option value="Orange">
                <option value="Pink">
                <option value="Purple">
                <option value="Brown">
            </datalist>
        </div>

        <div class="form-group">
            <label for="quantity">Nos:</label>
            <input type="number" id="quantity" name="quantity" placeholder="Enter Quantity" required min="0">
        </div>

        <div class="form-group">
            <label for="unit">Unit:</label>
            <input type="text" list="bag-rolls" id="unit" name="unit" placeholder="Select Unit" required autocomplete="off">
            <datalist id="bag-rolls">
                <option value="Bags">
                <option value="Rolls">
            </datalist>
        </div>

        <div class="form-group">
            <label for="quantity1">Weight:</label>
            <input type="number" id="quantity1" name="quantity1" placeholder="Enter Weight" step="0.001" required min="0">
        </div>

        <div class="form-group">
            <label for="unit1">Unit:</label>
            <input type="text" list="weight" id="unit1" name="unit1" placeholder="Select Unit" required autocomplete="off">
            <datalist id="weight">
                <option value="Kg">
                <option value="Gm">
            </datalist>
        </div>

        <div class="form-group">
            <label for="price">Price:</label>
            <input type="number" id="price" name="price" placeholder="Enter Price" step="0.01" required min="1">
        </div>

        <div class="form-group">
            <button type="submit" class="submit-btn">Add Item</button>
        </div>
    </form>

    <div class="table-container">
        <h3 class="no_of_items">No of Items: {{ all_items|length }}</h3>
        <div class="table-responsive">
            <table>
                <thead>
                    <tr>
                        <th>Item No.</th>
                        <th>Denier</th>
                        <th>Item Name</th>
                        <th>Size</th>
                        <th>Color</th>
                        <th>Quantity</th>
                        <th>Unit</th>
                        <th>Weight</th>
                        <th>Unit</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in all_items %}
                    <tr id="row-{{ item.id }}">
                        <td>{{ item.item_number }}</td>
                        <td>{{ item.denier }}</td>
                        <td>{{ item.item }}</td>
                        <td>{{ item.size }}</td>
                        <td>{{ item.colour }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ item.unit }}</td>
                        <td>{{ item.quantity1 }}</td>
                        <td>{{ item.unit1 }}</td>
                        <td>{{ item.price }}</td>
                        <td class="action-buttons">
                            <button class="edit-btn" onclick="window.location.href='/edit/{{ item.id }}'">
                                <i class="fas fa-edit"></i>
                            </button>
                            <form method="POST" action="{{ url_for('delete', item_id=item.id) }}" class="delete-form" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                <button type="submit" class="delete-btn">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}